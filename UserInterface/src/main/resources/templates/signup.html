
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{default}">


<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

<script type="text/javascript" th:src="@{/js/signUp.js}"></script>

<style>
body {
	font-family: Arial, Helvetica, sans-serif;
	background-color: black;
}

* {
	box-sizing: border-box;
}

/* Add padding to containers */
.container {

	padding: 16px;
	background-color: white;
}

/* Full-width input fields */

input[type=text], input[type=password], input[type=email] {
	width: auto;
	padding: 15px;
	margin: 5px 0 10px 0;
	display: inline-block;
	
}

input[type=text]:focus, input[type=password]:focus, input[type=email]:focus
	{
	background-color: #ddd;
	outline: none;
}

/* Overwrite default styles of hr */
hr {
	border: 1px solid #f1f1f1;
	margin-bottom: 10px;
}

.nextReg {
	display: flex;
	float: right;
	padding-right: 20px;
	margin-right: 8px;
	padding-right: 20px;
}

/* Set a style for the submit button */
.registerbtn {
	background-color: #4CAF50;
	color: white;
	padding: 16px 20px;
	margin: 8px;
	border: none;
	cursor: pointer;
	width: auto;
	opacity: 0.9;
}

.registerbtn:hover {
	opacity: 1;
}

/* Add a blue text color to links */
a {
	color: dodgerblue;
}

/* Set a grey background color and center the text of the "sign in" section */
.signin {
	background-color: #f1f1f1;
	text-align: center;
}

.userRegistrationFirst{
	display: block;
}

.userRegistrationSecond{
	display: none; 
}

.hide{
	display: none;
	background-color: #f1f1f1;
}

.show{
	display: block;
	background-color: #f1f1f1;
}

#emailPostfix {
	width: auto;
}

#myTable{
	width:70%;
	margin-left: auto;
	margin-right: auto;
}

.nextReg {
	display: flex;
	float: right;
	padding-right: 20px;
	margin-right: 8px;
	margin-bottom: 8px;
}

	/* Set a style for the submit button */
.registerbtn {
	background-color: #4CAF50;
	color: white;
	padding: 16px 20px;
	margin: 8px;
	border: none;
	cursor: pointer;
	width: auto;
	opacity: 0.9;
}

.registerbtn:hover {
	opacity: 1;
}

</style>



</head>


<body>

	<div th:class="${successMessage} ? 'hide' : 'userRegistrationFirst' ">
		<form th:action="@{/signup}" method="post" th:object="${organizationUser}">
			<div class="container">
				<h1>Register</h1>
				<p>Please fill in this form to create an account.</p>
				<hr>
				
				<div th:if="${#fields.hasErrors('email')}"  th:errors="*{email}" th:utext="#{errorMessage}"></div>
				<div th:if="${#fields.hasErrors('organization')}" th:errors="*{organization}"  th:utext="#{errorMessage}">orgError</div>

				<label for="organization"><b>Organization Name</b></label> 
				<br>
				<input id="organization" type="text" placeholder="Organization" name="organization" class="form-control" required> 
				<hr>
				<label for="email"><b>Email</b></label>
				<br>
				<input th:field="*{email}" id="email" type="email" placeholder="Enter Email" name="email" class="form-control" required>
				<hr>
				<label for="password"><b>Password</b></label>
				<br>
				<input id="password" type="password" placeholder="Enter Password" name="password" class="form-control" required>
				<hr> 
				<label for="rptPassword"><b>Repeat Password</b></label>
				<br>
				<input id="rPass" type="password" placeholder="Repeat Password" name="rptPassword" class="form-control" required>


				
				<button id="nextBtn" class="registerbtn nextReg">Next</button>
				
				
				
		<!-- 		<div th:if="${errorMessage != null}" th:utext="${errorMessage}"></div>  -->
				
				<br>

<!-- 
				<form class="form-signin" th:action="@{/login}" method="get">
					<button class="registerbtn" type="Submit" formnovalidate>Sign In</button>
				</form>
				 -->
			</div>

			<div class="container signin">
				<p>
					Already have an account? <a th:href="@{/login}">Sign in</a>.
				</p>
			</div>
		</form>
		
	</div>
	
	<div  th:class="${successMessage} ? 'show' : 'userRegistrationSecond' ">
	<form th:action="@{/storeDetails}" method="post" th:object="${organizationDetails}">
		<div class="container">

				<h1>Organization Details</h1>
				<p>Please fill in this form with your organization's details.</p>
				<hr>
		
				<label for="emailPostfix"><b>Organization's email postfix</b></label><br>
				<input th:field="*{emailPostfix}" id="emailPostfix" type="text" placeholder="example.com" name="emailPostfix" class="form-control"
					required>
		
				<h3><b>Please fill in First and Last names of some of the employees: </b></h3>
				<hr>
				<table id="myTable" class=" table order-list" >
					<thead>
						<tr>
							<td>Employee No.</td>
							<td>First Name</td>
							<td>Last Name</td>
						</tr>
					</thead>
					<tbody>
						<tr th:each="fakeUser, stat : *{credentialsForTraps}">
							<td class="col-sm-2" th:text="${stat.index}+1">
								
							</td>
							<td class="col-sm-4">
								<input th:field="*{credentialsForTraps[__${stat.index}__].firstName}" type="text" name="firstName" class="form-control required" />
							</td>
							<td class="col-sm-3">
								<input th:field="*{credentialsForTraps[__${stat.index}__].lastName}" type="text" name="lastName" class="form-control required" />
							</td>
							<td class="col-sm-2"><a class="deleteRow"></a>
		
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<td colspan="5" style="text-align: left;">
								<input type="button" class="btn btn-lg registerbtn " id="addrow" value="Add Row" />
							</td>
						</tr>
		
					</tfoot>
				</table>
				<button id="nextBtnAfterFillingNames" type="submit"  class="registerbtn nextReg">Sign Up</button>
				
			</div>
	</form>
	</div>

</body>
</html>
